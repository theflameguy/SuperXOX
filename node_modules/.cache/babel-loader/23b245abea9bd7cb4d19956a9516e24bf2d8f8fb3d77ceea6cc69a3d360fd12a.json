{"ast":null,"code":"var _jsxFileName = \"/Users/abhishek/Documents/js/react/react-xox/SuperXOX/src/Game.jsx\",\n  _s = $RefreshSig$();\nimport React, { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialBoards = Array(9).fill(null).map(() => Array(9).fill(null));\nconst colorPallet = {\n  color1: '#181C14',\n  color2: '#3C3D37',\n  color3: '#697565',\n  color4: '#ECDFCC'\n};\nconst WINNING_COMBINATIONS = [[0, 1, 2], [3, 4, 5], [6, 7, 8],\n// Rows\n[0, 3, 6], [1, 4, 7], [2, 5, 8],\n// Columns\n[0, 4, 8], [2, 4, 6] // Diagonals\n];\nconst calculateBoardWinner = board => {\n  for (const [a, b, c] of WINNING_COMBINATIONS) {\n    if (board[a] && board[a] === board[b] && board[a] === board[c]) {\n      return board[a];\n    }\n  }\n  return null;\n};\nconst calculateGridWinner = boards => {\n  const gridWinners = boards.map(board => calculateBoardWinner(board));\n  for (const [a, b, c] of WINNING_COMBINATIONS) {\n    if (gridWinners[a] && gridWinners[a] === gridWinners[b] && gridWinners[a] === gridWinners[c]) {\n      return gridWinners[a];\n    }\n  }\n  return null;\n};\nfunction Game() {\n  _s();\n  const [boards, setBoards] = useState(initialBoards);\n  const [xIsNext, setXIsNext] = useState(true);\n  const [winner, setWinner] = useState(null);\n  const [lastMove, setLastMove] = useState([null, null]);\n  const checkInvalidMove = boardIndex => {\n    if (calculateBoardWinner(boards[boardIndex])) return 1;\n    let invalid_move_flag = 0;\n    if (lastMove[1] != null && lastMove[1] != boardIndex) invalid_move_flag = 1;\n    if (lastMove[1] != null && calculateBoardWinner(boards[lastMove[1]])) invalid_move_flag = 0;\n    return invalid_move_flag;\n  };\n  const handleClick = (boardIndex, cellIndex) => {\n    if (winner || boards[boardIndex][cellIndex]) return;\n    const newBoards = boards.map((board, i) => i === boardIndex ? board.map((cell, j) => j === cellIndex ? xIsNext ? 'X' : 'O' : cell) : board);\n    if (checkInvalidMove(boardIndex)) return;\n    setLastMove([boardIndex, cellIndex]);\n    setBoards(newBoards);\n    setXIsNext(!xIsNext);\n    const newWinner = calculateGridWinner(newBoards);\n    setWinner(newWinner);\n  };\n  const buttonStyle = i => ({\n    width: '10vw',\n    height: '10vw',\n    fontSize: '3rem',\n    color: '#EEEEEE',\n    border: '1px solid black',\n    cursor: 'pointer',\n    outline: 'none'\n  });\n  const renderBoard = boardIndex => /*#__PURE__*/_jsxDEV(Board, {\n    board: boards[boardIndex],\n    onClick: cellIndex => handleClick(boardIndex, cellIndex),\n    buttonStyle: buttonStyle(boardIndex)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n  const miniBoardStyle = i => ({\n    border: '2px solid black',\n    padding: '2px',\n    background: checkInvalidMove(i) ? '#393E46' : '#71C9CE',\n    transition: 'background-color 0.5s ease',\n    overflow: 'hidden'\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: !winner ? `Next player: ${xIsNext ? 'X' : 'O'}` : `Woohoo!! ${winner} won`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: 'auto',\n        width: '35vw',\n        border: '1px solid white',\n        display: 'grid',\n        gridTemplateColumns: 'auto auto auto'\n      },\n      children: Array(9).fill(null).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"miniBoard\",\n        style: miniBoardStyle(i),\n        children: renderBoard(i)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), winner && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: `Winner: ${winner}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n_s(Game, \"A1Blg3m2aA58KbL7Bfh7Wf0/kk0=\");\n_c = Game;\nfunction Square({\n  value,\n  onClick,\n  style\n}) {\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    style: style,\n    onClick: onClick,\n    children: value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 5\n  }, this);\n}\n_c2 = Square;\nfunction Board({\n  board,\n  onClick,\n  buttonStyle\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'grid',\n      gridTemplateColumns: 'auto auto auto'\n    },\n    children: board.map((cell, i) => /*#__PURE__*/_jsxDEV(Square, {\n      value: cell,\n      onClick: () => onClick(i),\n      style: buttonStyle\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n}\n_c3 = Board;\nexport default Game;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Game\");\n$RefreshReg$(_c2, \"Square\");\n$RefreshReg$(_c3, \"Board\");","map":{"version":3,"names":["React","StrictMode","createRoot","useState","jsxDEV","_jsxDEV","initialBoards","Array","fill","map","colorPallet","color1","color2","color3","color4","WINNING_COMBINATIONS","calculateBoardWinner","board","a","b","c","calculateGridWinner","boards","gridWinners","Game","_s","setBoards","xIsNext","setXIsNext","winner","setWinner","lastMove","setLastMove","checkInvalidMove","boardIndex","invalid_move_flag","handleClick","cellIndex","newBoards","i","cell","j","newWinner","buttonStyle","width","height","fontSize","color","border","cursor","outline","renderBoard","Board","onClick","fileName","_jsxFileName","lineNumber","columnNumber","miniBoardStyle","padding","background","transition","overflow","children","style","margin","display","gridTemplateColumns","_","className","_c","Square","value","_c2","_c3","$RefreshReg$"],"sources":["/Users/abhishek/Documents/js/react/react-xox/SuperXOX/src/Game.jsx"],"sourcesContent":["import React, { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport { useState } from 'react';\n\nconst initialBoards = Array(9).fill(null).map(() => Array(9).fill(null));\n\nconst colorPallet = {\n  color1 : '#181C14',\n  color2 : '#3C3D37',\n  color3 : '#697565',\n  color4 : '#ECDFCC'\n\n}\n\nconst WINNING_COMBINATIONS = [\n  [0, 1, 2], [3, 4, 5], [6, 7, 8], // Rows\n  [0, 3, 6], [1, 4, 7], [2, 5, 8], // Columns\n  [0, 4, 8], [2, 4, 6] // Diagonals\n];\n\nconst calculateBoardWinner = (board) => {\n  for (const [a, b, c] of WINNING_COMBINATIONS) {\n    if (board[a] && board[a] === board[b] && board[a] === board[c]) {\n      return board[a];\n    }\n  }\n  return null;\n};\n\nconst calculateGridWinner = (boards) => {\n  const gridWinners = boards.map((board) => calculateBoardWinner(board));\n  \n  for (const [a, b, c] of WINNING_COMBINATIONS) {\n    if (gridWinners[a] && gridWinners[a] === gridWinners[b] && gridWinners[a] === gridWinners[c]) {\n      return gridWinners[a];\n    }\n  }\n  return null;\n};\n\nfunction Game() {\n  const [boards, setBoards] = useState(initialBoards);\n  const [xIsNext, setXIsNext] = useState(true);\n  const [winner, setWinner] = useState(null);\n  const [lastMove, setLastMove] = useState([null,null]);\n  \n  const checkInvalidMove = (boardIndex) => {\n    if(calculateBoardWinner(boards[boardIndex])) return 1;\n    \n    let invalid_move_flag = 0\n    \n    if(lastMove[1]!= null && lastMove[1]!=boardIndex) invalid_move_flag=1;\n    if(lastMove[1]!= null && calculateBoardWinner(boards[lastMove[1]])) invalid_move_flag=0;\n    \n    return invalid_move_flag\n    \n  }\n\n\n  const handleClick = (boardIndex, cellIndex) => {\n    if (winner || boards[boardIndex][cellIndex]) return;\n    \n    const newBoards = boards.map((board, i) => \n      i === boardIndex \n        ? board.map((cell, j) => j === cellIndex ? (xIsNext ? 'X' : 'O') : cell)\n        : board\n    );\n\n    if(checkInvalidMove(boardIndex)) return;\n\n\n    \n\n    setLastMove([boardIndex,cellIndex])\n    setBoards(newBoards);\n    setXIsNext(!xIsNext);\n\n    const newWinner = calculateGridWinner(newBoards);\n    setWinner(newWinner);\n  };\n\n  const buttonStyle = (i) =>({\n    width: '10vw',\n    height: '10vw',\n    fontSize: '3rem',\n    color:'#EEEEEE', \n    border: '1px solid black',\n    cursor: 'pointer',\n    outline: 'none',\n  })\n\n  const renderBoard = (boardIndex) => (\n    <Board\n      board={boards[boardIndex]}\n      onClick={(cellIndex) => handleClick(boardIndex, cellIndex)}\n      buttonStyle={buttonStyle(boardIndex)}\n    />\n  );\n\n  const miniBoardStyle =(i) =>({\n    border: '2px solid black',\n    padding: '2px',\n    background: checkInvalidMove(i) ?  '#393E46' : '#71C9CE',\n    transition: 'background-color 0.5s ease',\n    overflow: 'hidden'\n  })\n\n  return (\n    <div>\n      <div>\n        {!winner \n          ? `Next player: ${xIsNext ? 'X' : 'O'}`\n          : `Woohoo!! ${winner} won`}\n      </div>\n      <div style={{margin: 'auto', width:'35vw',border:'1px solid white', display: 'grid', gridTemplateColumns: 'auto auto auto'}}>\n        {Array(9).fill(null).map((_, i) => (\n          <div className='miniBoard' key={i} style={miniBoardStyle(i)}>\n            {renderBoard(i)}\n          </div>\n        ))}\n      </div>\n      {winner && <div>{`Winner: ${winner}`}</div>}\n    </div>\n  );\n}\n\n\n\nfunction Square({ value, onClick, style }) {\n  return (\n    <button \n      style={style}\n      onClick={onClick}\n    >\n      {value}\n    </button>\n  );\n}\n\nfunction Board({ board, onClick, buttonStyle}) {\n  return (\n    <div style={{ display: 'grid', gridTemplateColumns: 'auto auto auto' }}>\n      {board.map((cell, i) => (\n        <Square key={i} value={cell} onClick={() => onClick(i)} style={buttonStyle} />\n      ))}\n    </div>\n  );\n}\n\nexport default Game"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}